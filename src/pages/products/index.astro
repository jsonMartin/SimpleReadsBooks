---
import Layout from '../../layouts/Layout.astro';
import { generateTestImage } from '../../helpers';
import { Card, Heading, Span } from 'flowbite-svelte';
import ButtonAmazon from '../../components/ButtonAmazon.svelte';
import AvailableInFormat from '../../components/AvailableInFormat.svelte';
import { CldImage } from 'svelte-cloudinary';

const products = [
  {
    id: 'hunnie-bunnys-garden',
    title: 'Hunnie Bunny’s Garden',
    type: 'book',
    description: `Hunnie Bunny’s Garden is an enchanting picture book that brings children closer to nature, instills valuable virtues and ignites a sense of responsibility towards our environment.
Through the endearing character of Hunnie Bunny, it’s a delightful blend of entertainment and education. This book also promotes discussions about nature, gardening, sustainability, and healthy eating. If you are looking for a children’s book that offers both a charming story and important life lessons, Hunnie Bunny’s Garden is the book for you!`,
    price: 20.99,
    images: [
      {
        id: 0,
        imgurl: '/images/hunnie-bunnys-garden-book-cover-front-1.png',
      },
      {
        id: 1,
        imgurl: '/images/hunnie-bunnys-garden-book-cover-back-1.png',
      },
      {
        id: 2,
        imgurl: '/images/hunnie-bunnys-garden-page-1.png',
      },
      {
        id: 3,
        imgurl: '/images/hunnie-bunnys-garden-page-2.png',
      },
      {
        id: 4,
        imgurl: '/images/hunnie-bunnys-garden-book-cover.png',
      },
    ],
  },
  {
    id: 'hunnie-bunnys-garden-mystery',
    title: 'Hunnie Bunny’s Garden Mystery',
    type: 'book',
    description: `Hunnie Bunny’s Garden Mystery is the next upcoming book in the Hunnie Bunny Series.`,
    price: 20.99,
    images: Array(4)
      .fill({ id: 0, imgurl: '' })
      .map((item, index) => {
        return {
          id: index,
          imgurl: generateTestImage().imgurl,
        };
      }),
  },
  {
    id: 'hunnie-bunnys-third-story',
    title: 'Hunnie Bunny’s Third Story',
    type: 'book',
    description: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl quis tincidunt aliquam, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Sed euismod, nisl quis tincidunt aliquam, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.`,
    price: 20.99,
    images: Array(4)
      .fill({ id: 0, imgurl: '' })
      .map((item, index) => {
        return {
          id: index,
          imgurl: generateTestImage().imgurl,
        };
      }),
  },
  {
    id: 'hunnie-bunnys-christmas-story',
    title: 'Hunnie Bunny’s Christmas Story',
    type: 'book',
    description: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed euismod, nisl quis tincidunt aliquam, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Sed euismod, nisl quis tincidunt aliquam, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.`,
    price: 20.99,
    images: Array(4)
      .fill({ id: 0, imgurl: '' })
      .map((item, index) => {
        return {
          id: index,
          imgurl: generateTestImage().imgurl,
        };
      }),
  },
];
---

<Layout title="Books & Products">
  <h1 class="text-5xl sm:text-6xl md:text-7xl text-center font-bold mt-4 md:mt-8">Books</h1>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8 sm:gap-4 md:gap-8 justify-items-center mt-4 sm:mt-6 md:mt-10 mx-3 sm:mx-4 md:mx-6">
    {
      products.map((product, i) => {
        return (
          <Card
            padding="none"
            class={'h-fit' + ' ' + (i > 0 ? 'opacity-40' : '')}
          >
            <a
              href={'/products/' + product.id}
              class="flex justify-center items-center"
            >
              <img
                class="rounded-t-lg object-cover w-full"
                src={product.images[0].imgurl}
                alt={'Product image' + i}
                loading="lazy"
              />
            </a>
            <div class="px-5 py-5 pt-2">
              <h1 class="text-2xl font-semibold tracking-tight text-gray-900 dark:text-white">
                {product.title}
                <AvailableInFormat
                  divClass="pt-0 -mt-[8px]"
                  showText={false}
                />
              </h1>

              <p class="text-sm text-gray-400 mt-1.5 sm:mt-3">{product.description.split('\n')[0]}</p>

              <div class="flex justify-between items-center mt-5">
                <span class="text-xl font-medium text-gray-900 dark:text-white">
                  {product.price.toLocaleString('en-US', { style: 'currency', currency: 'USD' })}
                </span>
                <ButtonAmazon size="xs" />
              </div>
            </div>
          </Card>
        );
      })
    }
  </div>

  <h1 class="text-5xl sm:text-6xl md:text-7xl text-center font-bold mt-4 md:mt-10 mb-4 lg:mb-8">Products</h1>
  <Heading
    tag="h1"
    class="mb-0 animate-bounce text-center"
    customSize="text-2xl font-extrabold sm:text-4xl md:text-5xl"
  >
    <Span gradient>Coming soon...</Span>
  </Heading>
  <CldImage
    width={2100}
    height="100%"
    aspectRatio={2100 / 1500}
    src="hunnie-bunny-reading-a-book-to-mr-squirrel"
    quality={80}
    class="w-full !p-1 sm:!p-8 md:!p-24 md:!-mb-20 block !-mt-4 sm:!-mt-8 md:!-mt-24 !mb-0 !pb-0 !h-[100%] !object-contain"
  />
</Layout>
